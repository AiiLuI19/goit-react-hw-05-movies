{"version":3,"file":"static/js/movie-details-page.90deb66c.chunk.js","mappings":"2NACA,EAAsB,0BAAtB,EAAuD,2BAAvD,EAA6F,+BAA7F,EAAoI,4BAApI,EAAuK,2BAAvK,EAA6M,+B,SCyE7M,EAtEqB,SAAC,GAAe,IAAD,IAAZA,EAAY,EAAZA,MAChBC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,QACP,OAARH,QAAQ,IAARA,GAAA,UAAAA,EAAUI,aAAV,SAAiBC,KAAjB,UAAwBL,EAASI,aAAjC,aAAwB,EAAgBC,KAAO,WAI/CC,EAMEP,EANFO,eACAC,EAKER,EALFQ,OACAC,EAIET,EAJFS,aACAC,EAGEV,EAHFU,SACAC,EAEEX,EAFFW,YACAC,EACEZ,EADFY,aAEF,OACE,+BACE,4BACE,SAAC,KAAD,CAAMC,UAAWC,EAAYC,GAAIZ,EAASa,QAA1C,2BAGA,4BACE,qBAASH,UAAWC,EAApB,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBACEG,IAAG,8DAAyDN,GAC5DO,IAAKX,OAGT,iBAAKM,UAAWC,EAAhB,WACE,0BACGP,EADH,KACqB,IAAIY,KAAKP,GAAcQ,cAD5C,QAGA,wCAAgBX,EAAhB,SACA,sCACA,uBAAIC,KACJ,oCACA,uBAAIF,EAAOa,KAAI,qBAAGC,QAAiBC,KAAK,eAG5C,gCACE,eAAIV,UAAWC,EAAf,qCACA,SAAC,KAAD,CACED,UAAWC,EACXC,GAAG,OACHV,MAAO,CAAEC,KAAML,EAASuB,UAH1B,mBAOA,SAAC,KAAD,CAAMX,UAAWC,EAAQC,GAAG,UAA5B,4BAKJ,SAAC,KAAD,U,SCpCR,EAhByB,WACvB,IAAQU,EAAoBC,EAAAA,EAAAA,gBAC5B,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAO3B,EAAP,KAAc4B,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAWR,OATAE,EAAAA,EAAAA,YAAU,WACHF,GAGLJ,EAAgBI,GAASG,MAAK,SAAAC,GAC5BL,EAASK,QAEV,CAACJ,EAASJ,KAEN,6BAAUzB,IAAS,SAAC,EAAD,CAAcA,MAAOA,Q,kBCnBjD,IAmDMkC,EAAM,CACVC,cApDoB,WACpB,OAAOC,MAAM,4FAEXJ,MAAK,SAAAK,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBA8ClCC,kBA3CwB,SAAAC,GACxB,OAAOR,MAAM,2GAAD,OACiGQ,IAC3GZ,MAAK,SAAAK,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBAqClCjB,gBAlCsB,SAAAoB,GACtB,OAAOT,MAAM,sCAAD,OAC4BS,EAD5B,6DAEVb,MAAK,SAAAK,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBA4BlCI,mBAzByB,SAAAD,GACzB,OAAOT,MAAM,sCAAD,OAC4BS,EAD5B,qEAEVb,MAAK,SAAAK,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBAmBlCK,mBAhByB,SAAAF,GACzB,OAAOT,MAAM,sCAAD,OAC4BS,EAD5B,qEAEVb,MAAK,SAAAK,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,kBAYpC","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.js","pages/MovieDetailsPage.js","services/fetchApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"img\":\"MovieDetails_img__D3WH9\",\"info\":\"MovieDetails_info__0TKY1\",\"textInfo\":\"MovieDetails_textInfo__vEi6B\",\"title\":\"MovieDetails_title__RBndM\",\"link\":\"MovieDetails_link__wf74g\",\"backLink\":\"MovieDetails_backLink__haiys\"};","import PropTypes from 'prop-types';\nimport { useRef } from 'react';\nimport { Link, Outlet, useLocation } from 'react-router-dom';\nimport s from './MovieDetails.module.css';\nconst MovieDetails = ({ movie }) => {\n  const location = useLocation();\n  const backLink = useRef(\n    location?.state?.from ? location.state?.from : '/movies'\n  );\n\n  const {\n    original_title,\n    genres,\n    vote_average,\n    overview,\n    poster_path,\n    release_date,\n  } = movie;\n  return (\n    <>\n      <div>\n        <Link className={s.backLink} to={backLink.current}>\n          &#171; Go back\n        </Link>\n        <div>\n          <section className={s.info}>\n            <div className={s.img}>\n              <img\n                src={`https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${poster_path}`}\n                alt={original_title}\n              />\n            </div>\n            <div className={s.textInfo}>\n              <h2>\n                {original_title} ({new Date(release_date).getFullYear()})\n              </h2>\n              <p>User Score: {vote_average}% </p>\n              <h3>Overview</h3>\n              <p>{overview}</p>\n              <h3>Genres</h3>\n              <p>{genres.map(({ name }) => name).join(', ')}</p>\n            </div>\n          </section>\n          <section>\n            <h2 className={s.title}>Additional information</h2>\n            <Link\n              className={s.link}\n              to=\"cast\"\n              state={{ from: location.pathname }}\n            >\n              Cast\n            </Link>\n            <Link className={s.link} to=\"reviews\">\n              Reviews\n            </Link>\n          </section>\n        </div>\n        <Outlet />\n      </div>\n    </>\n  );\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.shape({\n    original_title: PropTypes.string,\n    genres: PropTypes.array,\n    vote_average: PropTypes.number,\n    overview: PropTypes.string,\n    poster_path: PropTypes.string,\n    release_date: PropTypes.string,\n  }).isRequired,\n};\n\nexport default MovieDetails;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport MovieDetails from '../components/MovieDetails/MovieDetails';\nimport fetchApi from '../services/fetchApi';\n\nconst MovieDetailsPage = () => {\n  const { fetchMoviesInfo } = fetchApi;\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    fetchMoviesInfo(movieId).then(results => {\n      setMovie(results);\n    });\n  }, [movieId, fetchMoviesInfo]);\n\n  return <section>{movie && <MovieDetails movie={movie} />}</section>;\n};\nexport default MovieDetailsPage;\n","const fetchTrending = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=d3e8a787d9b4dc35185152e0bafc0774`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchSearchMovies = query => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US&query=${query}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchMoviesInfo = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchMoviesCredits = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchMoviesReviews = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\n\nconst api = {\n  fetchTrending,\n  fetchSearchMovies,\n  fetchMoviesInfo,\n  fetchMoviesCredits,\n  fetchMoviesReviews,\n};\n\nexport default api;\n\n// kay = d3e8a787d9b4dc35185152e0bafc0774;\n// https://api.themoviedb.org/3/trending/all/day?api_key=d3e8a787d9b4dc35185152e0bafc0774  тренд\n\n// https://api.themoviedb.org/3/search/movie?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US&page=1&include_adult=false   поиск фильмов\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US инфо о фильме\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US  актерский состав\n\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US&page=1   запрос обзоров для страницы кинофильма\n"],"names":["movie","location","useLocation","backLink","useRef","state","from","original_title","genres","vote_average","overview","poster_path","release_date","className","s","to","current","src","alt","Date","getFullYear","map","name","join","pathname","fetchMoviesInfo","fetchApi","useState","setMovie","movieId","useParams","useEffect","then","results","api","fetchTrending","fetch","response","ok","json","Promise","reject","Error","fetchSearchMovies","query","id","fetchMoviesCredits","fetchMoviesReviews"],"sourceRoot":""}