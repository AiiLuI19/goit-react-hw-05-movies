{"version":3,"file":"static/js/reviews.a926f123.chunk.js","mappings":"2NACA,EAAuB,4BAAvB,EAA2D,6BAA3D,EAA4F,yB,SCa5F,MAZA,YAA6C,IAApBA,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAC/B,OACE,iBAAKC,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,SAAyBH,KACzB,cAAGE,UAAWC,EAAd,SAAoBF,QC6B1B,EA9BgB,WACd,IAAQG,EAAuBC,EAAAA,EAAAA,mBAC/B,GAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAWR,OATAE,EAAAA,EAAAA,YAAU,WACHF,GAGLL,EAAmBK,GAASG,MAAK,YAAkB,IAAfC,EAAc,EAAdA,QAClCL,EAAWK,QAEZ,CAACJ,EAASL,KAGX,wBACU,OAAPG,QAAO,IAAPA,GAAAA,EAASO,OACRP,EAAQQ,KAAI,YAA8B,IAA3BC,EAA0B,EAA1BA,GAAIhB,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QACzB,OACE,yBACE,SAAC,EAAD,CAAeD,OAAQA,EAAQC,QAASA,KADjCe,OAMb,sD,kBC9BR,IAmDMC,EAAM,CACVC,cApDoB,WACpB,OAAOC,MAAM,4FAEXP,MAAK,SAAAQ,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBA8ClCC,kBA3CwB,SAAAC,GACxB,OAAOR,MAAM,2GAAD,OACiGQ,IAC3Gf,MAAK,SAAAQ,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBAqClCG,gBAlCsB,SAAAZ,GACtB,OAAOG,MAAM,sCAAD,OAC4BH,EAD5B,6DAEVJ,MAAK,SAAAQ,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBA4BlCI,mBAzByB,SAAAb,GACzB,OAAOG,MAAM,sCAAD,OAC4BH,EAD5B,qEAEVJ,MAAK,SAAAQ,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,iBAmBlCrB,mBAhByB,SAAAY,GACzB,OAAOG,MAAM,sCAAD,OAC4BH,EAD5B,qEAEVJ,MAAK,SAAAQ,GACL,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,kBAYpC","sources":["webpack://react-homework-template/./src/components/ReviewsRender/ReviewsRender.module.css?215e","components/ReviewsRender/ReviewsRender.js","components/Reviews/Reviews.js","services/fetchApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"ReviewsRender_wrap__AWA12\",\"title\":\"ReviewsRender_title__CyAcB\",\"p\":\"ReviewsRender_p__g5pyd\"};","import PropTypes from 'prop-types';\nimport s from './ReviewsRender.module.css';\nfunction ReviewsRender({ author, content }) {\n  return (\n    <div className={s.wrap}>\n      <h2 className={s.title}>{author}</h2>\n      <p className={s.p}>{content}</p>\n    </div>\n  );\n}\nReviewsRender.propTypes = {\n  author: PropTypes.string,\n  content: PropTypes.string,\n};\nexport default ReviewsRender;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport fetchApi from '../../services/fetchApi';\nimport ReviewsRender from '../ReviewsRender/ReviewsRender';\n\nconst Reviews = () => {\n  const { fetchMoviesReviews } = fetchApi;\n  const [reviews, setReviews] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    fetchMoviesReviews(movieId).then(({ results }) => {\n      setReviews(results);\n    });\n  }, [movieId, fetchMoviesReviews]);\n\n  return (\n    <ul>\n      {reviews?.length ? (\n        reviews.map(({ id, author, content }) => {\n          return (\n            <li key={id}>\n              <ReviewsRender author={author} content={content} />\n            </li>\n          );\n        })\n      ) : (\n        <li>No reviews this film </li>\n      )}\n    </ul>\n  );\n};\nexport default Reviews;\n","const fetchTrending = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=d3e8a787d9b4dc35185152e0bafc0774`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchSearchMovies = query => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US&query=${query}`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchMoviesInfo = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchMoviesCredits = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\nconst fetchMoviesReviews = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US`\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('No Movie'));\n  });\n};\n\nconst api = {\n  fetchTrending,\n  fetchSearchMovies,\n  fetchMoviesInfo,\n  fetchMoviesCredits,\n  fetchMoviesReviews,\n};\n\nexport default api;\n\n// kay = d3e8a787d9b4dc35185152e0bafc0774;\n// https://api.themoviedb.org/3/trending/all/day?api_key=d3e8a787d9b4dc35185152e0bafc0774  тренд\n\n// https://api.themoviedb.org/3/search/movie?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US&page=1&include_adult=false   поиск фильмов\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US инфо о фильме\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US  актерский состав\n\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=d3e8a787d9b4dc35185152e0bafc0774&language=en-US&page=1   запрос обзоров для страницы кинофильма\n"],"names":["author","content","className","s","fetchMoviesReviews","fetchApi","useState","reviews","setReviews","movieId","useParams","useEffect","then","results","length","map","id","api","fetchTrending","fetch","response","ok","json","Promise","reject","Error","fetchSearchMovies","query","fetchMoviesInfo","fetchMoviesCredits"],"sourceRoot":""}